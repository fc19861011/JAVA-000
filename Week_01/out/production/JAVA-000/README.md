学习笔记
##JVM直接内存(Direct Memory)
直接内存（Direct Memory）并不是虚拟机运行时数据区的一部分，也不是《Java虚拟机规范》中
定义的内存区域。但是这部分内存也被频繁地使用，而且也可能导致OutOfMemoryError异常出现。
直接内存是Java堆外的、直接向系统申请的内存区间。
直接内存不是虚拟机运行时数据区的一部分，也不是java虚拟机规范中定义的内存区域。但这部分区域也被频繁使用，而且也可能导致OutOfMemoryError异常 在JDK1.4中新加入的NIO（New Input/Output）类，引入了一种基于通道（Channel）与缓冲区（Buffer）的I/O方式，它可以使用Native函数库直接分配堆外内存，然后通过一个存储在java堆中的DirectByteBuffer对象作为这块内存的引用进行操作。
###直接内存来源于NIO
通过存在堆中的DirectByteBuffer操作Native内存。访问直接内存的速度会优于Java堆。即读写性能高。
因此出于性能考虑，读写频繁的场合可能会考虑使用直接内存
Java的NIO库允许Java程序使用直接内存，用于数据缓冲区

https://www.cnblogs.com/yanl55555/p/13334667.html

# JVM

## 一、class字节码

## 二、ClassLoader

## 三、内存模型

![JVM内存模型以及内存参数关系](C:\360极速浏览器下载\JVM内存模型以及内存参数关系.png)

![](C:\360极速浏览器下载\DirectCachePool.png)

![no-direct](C:\360极速浏览器下载\no-direct.png)

## 四、启动参数

## 五、JVM命令行

## 六、JDK内置图形化工具

### jconsole

### jvisualvm

### visualGC

### jmc

## 七、GC原理

### 算法：

标记清除

复制算法

标记整理算法

### GC分类：

| GC收集器           | 串行、并行 OR 并发 | 新生代/老年代 | 算法               | 目标         | 适用场景                                                     |
| ------------------ | ------------------ | ------------- | ------------------ | ------------ | ------------------------------------------------------------ |
| Serial GC          | 串行               | 新生代        | 复制算法           | 响应速度优先 | 单CPU环境下的Client模式                                      |
| Serial Old         | 串行               | 老年代        | 标记-整理          | 响应速度优先 | 单CPU环境下的Client模式、CMS的后备预案                       |
| ParNew             | 并行               | 新生代        | 复制算法           | 响应速度优先 | 多CPU环境时在Server模式下与CMS配合                           |
| Parallel  Scavenge | 并行               | 新生代        | 复制算法           | 吞吐量优先   | 在后台运算而不需要太多交互的任务                             |
| Parallel Old       | 并行               | 老年代        | 标记-整理          | 吞吐量优先   | 在后台运算而不需要太多交互的任务                             |
| CMS                | 并发               | 老年代        | 标记-清除          | 响应速度优先 | 集中在互联网站或B/S系统服务端上的JAVA应用                    |
| G1                 | 并发               | both          | 标记-整理+复制算法 | 响应速度优先 | 面向服务端应用，将来替换CMS                                  |
| ZGC                | 并发               | both          |                    | 响应速度优先 | 通过着色指针和读屏障，实现几乎全部的并发执行，几毫秒级别的延迟，线性可扩展； |
| Epsilon            |                    |               |                    |              | 实验性的 GC，供性能分析使用                                  |
| Shenandoah         | 并发               | both          |                    | 响应速度优先 | G1 的改进版本，跟 ZGC 类似                                   |

